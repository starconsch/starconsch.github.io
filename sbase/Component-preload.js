//@ui5-bundle ch/starcons/sbase/Component-preload.js
sap.ui.require.preload({
	"ch/starcons/sbase/Component.js":function(){
sap.ui.define(["sap/ui/core/UIComponent","ch/starcons/sbase/model/models"],(e,t)=>{"use strict";return e.extend("ch.starcons.sbase.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init(){e.prototype.init.apply(this,arguments);this.setModel(t.createDeviceModel(),"device");this.getRouter().initialize();if("serviceWorker"in navigator){navigator.serviceWorker.register("sw.js").then(function(){}.bind(this)).catch(function(){}.bind(this))}}})});
},
	"ch/starcons/sbase/controller/App.controller.js":function(){
sap.ui.define(["ch/starcons/sbase/controller/BaseController","ch/starcons/sbase/js/SQLiteDBHelper","ch/starcons/sbase/js/JavaScriptHelper","ch/starcons/sbase/js/ExcelHelper","sap/ui/Device","sap/f/FlexibleColumnLayoutSemanticHelper","sap/f/library","sap/ui/base/Event"],(t,e,a,s,i,r,o,n)=>{"use strict";return t.extend("ch.starcons.sbase.controller.App",{_aAttachDataPropertyChange:[],_oExcelHelper:null,_oJavaScriptHelper:null,_oSQLiteDBHelper:null,_oRouteArguments:null,_sContentDensityClass:null,_sRouteName:"",attachDataPropertyChange:function(t,e){this._aAttachDataPropertyChange.push({function:t,listener:e})},fireDataPropertyChange:function(t){for(var e=0;e<this._aAttachDataPropertyChange.length;e++){this._aAttachDataPropertyChange[e].function.call(this._aAttachDataPropertyChange[e].listener,new n(this.getView().getId(),this,t))}},exportData:function(){try{this._oSQLiteDBHelper.updateAppData(btoa(JSON.stringify(this.getProperty("/appData"))));return this._oSQLiteDBHelper.exportDB()}catch(t){this.showMessage("e",t)}},getContentDensityClass:function(){if(this._sContentDensityClass===null){if(document.body.classList.contains("sapUiSizeCozy")||document.body.classList.contains("sapUiSizeCompact")){this._sContentDensityClass=""}else if(!i.system.Phone){this._sContentDensityClass="sapUiSizeCompact"}else{this._sContentDensityClass="sapUiSizeCozy"}}return this._sContentDensityClass},getCurrentRoute:function(){return{name:this._sRouteName,arguments:this._oRouteArguments}},getExcelHelper:function(){return this._oExcelHelper},getJavaScriptHelper:function(){return this._oJavaScriptHelper},getSQLiteDBHelper:function(){return this._oSQLiteDBHelper},getUIHelper:function(){return r.getInstanceFor(this.byId("flexibleColumnLayout"),{defaultTwoColumnLayoutType:o.LayoutType.TwoColumnsMidExpanded,defaultThreeColumnLayoutType:o.LayoutType.ThreeColumnsMidExpanded})},importData:function(t,e){try{this._oSQLiteDBHelper.createDB(t);var a={};if(t){a=JSON.parse(atob(this._oSQLiteDBHelper.readAppData()))}this._importData(a,"",this.getProperty("/appDataSchema"),this.getProperty("/appDataSchemaMapping"),a.version);this._oSQLiteDBHelper.updateAppData(btoa(JSON.stringify(a)));if(e){this.setProperty("/appData",a)}}catch(t){this.showMessage("e",t)}},onInit:function(){this.getView().addStyleClass(this.getContentDensityClass());this._loadModel();this.attachDataPropertyChange(this._onDataPropertyChange,this);this.getRouter().attachBeforeRouteMatched(this._onBeforeRouteMatched,this);this.getRouter().attachRouteMatched(this._onRouteMatched,this);window.addEventListener("focus",this._onFocus.bind(this));this._oSQLiteDBHelper=new e(this);this._oJavaScriptHelper=new a(this);this._oExcelHelper=new s(this)},onStateChanged:function(t){this.setProperty("/app/uistate",this.getUIHelper().getCurrentUIState());if(t.getParameters().isNavigationArrow){this._oRouteArguments.layout=t.getParameters().layout;this.getRouter().navTo(this._sRouteName,this._oRouteArguments)}},_importData:function(t,e,a,s,i){var r=Object.keys(a);var o=Object.keys(t);for(var n=0;n<o.length;n++){var h=o[n];for(var l=0;l<s.length;l++){if(s[l].version===i&&s[l].path===e&&s[l].oldFieldName===h){t[s[l].newFieldName]=t[s[l].oldFieldName];delete t[h]}}}o=Object.keys(t);for(n=0;n<o.length;n++){h=o[n];var p=true;if(r.indexOf(h)===-1){p=false}if(!p){delete t[h]}}o=Object.keys(t);for(n=0;n<r.length;n++){var u=r[n];var c=true;if(o.indexOf(u)===-1){c=false}if(Array.isArray(a[u])){if(!c){t[u]=[]}else{for(l=0;l<t[u].length;l++){this._importData(t[u][l],`${e}/${u}`,a[u][0],s,i)}}}else if(typeof a[u]==="object"){if(!c){t[u]=this.cloneSchemaObject(`/appDataSchema${e}/${u}`)}else{this._importData(t[u],`${e}/${u}`,a[u],s,i)}}else{if(!c){t[u]=this.clone(a[u])}}}},_loadModel:function(){jQuery.ajax({type:"GET",url:"model/App.model.json",processData:false,dataType:"json",async:false,success:function(t){this.getModel().setData(t);this.getModel().attachPropertyChange(function(t){if(t.getParameters().path.startsWith("/appData")||t.getParameters().context&&t.getParameters().context.getPath().startsWith("/appData")){this.fireDataPropertyChange({path:t.getParameters().path,value:t.getParameters().value,context:t.getParameters().context})}}.bind(this))}.bind(this)})},_onBeforeRouteMatched:function(t){var e=t.getParameters().arguments.layout;if(!e){this.setProperty("/app/uistate/layout",this.getUIHelper().getNextUIState(0).layout)}else{this.setProperty("/app/uistate/layout",e)}},_onDataPropertyChange:function(t){this.getController("File").saveFile()},_onFocus:function(){this.getController("File").readFile()},_onRouteMatched:function(t){this._sRouteName=t.getParameters().name;this._oRouteArguments=t.getParameters().arguments;this.setProperty("/app/uistate",this.getUIHelper().getCurrentUIState())}})});
},
	"ch/starcons/sbase/controller/BaseController.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/UIComponent","sap/m/MessageBox","sap/ui/core/format/DateFormat"],(e,t,r,n)=>{"use strict";return e.extend("ch.starcons.sbase.controller.BaseController",{clone:function(e){return JSON.parse(JSON.stringify(e))},cloneSchemaObject:function(e){var t=this.clone(this.getProperty(e));this._prepareSchemaObject(t);return t},createUUID:function(){var e=(new Date).getTime();var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=(e+Math.random()*16)%16|0;e=Math.floor(e/16);return(t==="x"?r:r&3|8).toString(16)});return t},findObject:function(e,t,r){var n={object:null,index:-1};for(var o=0;o<e.length;o++){if(e[o][r]===t){n.object=e[o];n.index=o;return n}}return n},getController:function(e){var t=this.getOwnerComponent().byId(`view${e}`);if(t){return t.getController()}else{return null}},getCurrentDate:function(){var e=new Date;e.setHours(0,0,0);return n.getDateInstance({pattern:"yyyy-MM-dd"}).format(e)},getCurrentTime:function(){var e=new Date;return n.getDateInstance({pattern:"HH:mm:ss"}).format(e)},getCurrentTimestamp:function(){return n.getDateTimeInstance({pattern:"yyyyMMddHHmmss"}).format(new Date)},getModel:function(e){if(!this.getView().getModel(e)){return this.getOwnerComponent().getModel(e)}return this.getView().getModel(e)},getProperty:function(e,t){return this.getModel().getProperty(e,t)},getResourceBundle:function(){return this.getModel("i18n").getResourceBundle()},getRouter:function(){return t.getRouterFor(this)},navToFile:function(){if(!this.getProperty("/file/filename")){this.getRouter().navTo("File",{layout:this.getController("App").getUIHelper().getNextUIState(0).layout});return true}},navToHome:function(){this.getRouter().navTo("Database",{layout:this.getController("App").getUIHelper().getNextUIState(0).layout})},setProperty:function(e,t,r,n){this.getModel().setProperty(e,t,r,n);if(e.startsWith("/appData")||r&&r.getPath().startsWith("/appData")){this.getController("App").fireDataPropertyChange({path:e,value:t,context:r})}},showMessage:function(e,t,n){if(!t){return}if(typeof t==="string"){if(t.toLowerCase().startsWith("i18n>")){t=this.getResourceBundle().getText(t.substring(5))}}else{t=t.toString()}if(e.toLowerCase()==="s"){r.success(t,{onClose:n})}else if(e.toLowerCase()==="w"){r.warning(t,{onClose:n})}else if(e.toLowerCase()==="e"){r.error(t,{onClose:n})}else if(e.toLowerCase()==="i"){r.information(t,{onClose:n})}},sortObjectArray:function(e,t,r){e.sort((e,n)=>{var o=e[t].toLowerCase();var a=n[t].toLowerCase();if(o<a){if(r){return 1}else{return-1}}if(o>a){if(r){return-1}else{return 1}}return 0})},_prepareSchemaObject:function(e){var t=Object.keys(e);for(var r=0;r<t.length;r++){var n=t[r];if(Array.isArray(e[n])){e[n]=[]}else if(typeof e[n]==="object"){e[n]=this._prepareSchemaObject(e[n])}}}})});
},
	"ch/starcons/sbase/controller/Database.controller.js":function(){
sap.ui.define(["ch/starcons/sbase/controller/BaseController","sap/m/Table","sap/m/Column","sap/m/Text","sap/m/ColumnListItem","sap/m/ScrollContainer","sap/m/Panel","sap/m/OverflowToolbar","sap/m/Title","sap/m/ToolbarSpacer","sap/m/OverflowToolbarButton","sap/m/MessageToast","sap/ui/model/FilterOperator","sap/ui/model/Filter","sap/m/Label","sap/m/Input","sap/m/MessageBox","sap/m/library"],(e,t,a,s,i,r,n,o,l,h,p,c,u,d,g,b,f,v)=>{"use strict";return e.extend("ch.starcons.sbase.controller.Database",{_bCurrentDatabaseFilename:"",_oEditVariantDialog:null,_oParametersDialog:null,_oSaveVariantDialog:null,_aConstantDefaultVariants:[{uuid:"aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa",i18nAlias:"allTables",sql:"SELECT * FROM sqlite_master WHERE type = 'table';"},{uuid:"bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb",i18nAlias:"allMasterTypes",sql:"SELECT * FROM sqlite_master;"}],onBeforeMenuOpenImportFileJavaScript:function(e){var t=e.getSource();if(!this._oFilesResponsivePopover){this.loadFragment({name:"ch.starcons.sbase.fragment.FilesResponsivePopover"}).then(function(e){this._oFilesResponsivePopover=e;this._oFilesResponsivePopover.addStyleClass(this.getController("App").getContentDensityClass());this._oFilesResponsivePopover.openBy(t)}.bind(this))}else{this._oFilesResponsivePopover.openBy(t)}},onDefaultActionImportFileJavaScript:function(e){this.getController("File").openFileForJavaScript().then(function(e){var t=this.getProperty("/database/javaScriptFiles");if(this.findObject(t,e.filename,"filename").index>-1){this.showMessage("e",this.getResourceBundle().getText("errorJavaScriptFileExists"));return}e.index=t.length+1;t.push(e);this.setProperty("/database/javaScriptFiles",t);this.getModel().refresh(true)}.bind(this)).catch(function(e){this.showMessage("e",e)}.bind(this))},onDetailPressVariant:function(e){var t=e.getSource().getBindingContext().getPath();if(!this._oEditVariantDialog){this.loadFragment({name:"ch.starcons.sbase.fragment.EditVariantDialog"}).then(function(e){this._oEditVariantDialog=e;this._oEditVariantDialog.addStyleClass(this.getController("App").getContentDensityClass());this._oEditVariantDialog.bindElement({path:t});this._oEditVariantDialog.open()}.bind(this))}else{this._oEditVariantDialog.bindElement({path:t});this._oEditVariantDialog.open()}},onInit:function(){this.getRouter().getRoute("Database").attachPatternMatched(this._onPatternMatched,this)},onLiveChangeVariant:function(e){var t=[];var a=this.byId("searchFieldDatabaseVariants").getValue().split(" ");for(var s=0;s<a.length;s++){var i=[];i.push(new d("name",u.Contains,a[s]));i.push(new d("sql",u.Contains,a[s]));i.push(new d("JavaScript",u.Contains,a[s]));t.push(new d(i,false))}this.byId("listVariants").getBinding("items").filter(new d(t,true))},onPressExecuteJavaScript:function(e){var t=this.getProperty("/database/javaScript");if(!t){return}t=t.trim();this.setProperty("/database/errorMessage","");this.setProperty("/database/successMessage","");this.byId("textAreaDatabaseOutput").setValue();this.byId("gridContainerDatabaseResult").setVisible(false);this.byId("textAreaDatabaseOutput").setVisible(true);try{var a=this.getController("App").getJavaScriptHelper().runJavaScript(t);var s="";for(var i=0;i<a.length;i++){if(s){s=`${s}\n`}s=`${s}${a[i]}`}this.byId("textAreaDatabaseOutput").setValue(s);this.setProperty("/appData/database/javaScript",t);this.setProperty("/database/successMessage",this.getResourceBundle().getText("successJavaScript"))}catch(e){this.setProperty("/database/errorMessage",e.toString())}},onPressExecuteJavaScriptBackup:function(e){this.onPressExecuteJavaScript(e);this.getController("File").saveFileBackup();c.show(this.getResourceBundle().getText("successBackupGenerated"))},onPressExecuteSQL:function(e){var u=this.getProperty("/database/sql");if(!u){return}u=u.trim();this.setProperty("/database/errorMessage","");this.setProperty("/database/successMessage","");this.byId("gridContainerDatabaseResult").destroyItems();this.byId("gridContainerDatabaseResult").setVisible(true);this.byId("textAreaDatabaseOutput").setVisible(false);try{var d=this.getController("App").getSQLiteDBHelper().executeSQL(u);this.setProperty("/database/sqlResultTables",[]);if(d){for(var g=0;g<d.length;g++){var b=[];var f=[];var m=d[g];if(m.length>0){var P=Object.keys(m[0]);for(var y=0;y<P.length;y++){b.push(new a({width:"10rem",header:new s({text:P[y]})}))}}for(y=0;y<m.length;y++){var S=[];var x=m[y];P=Object.keys(x);for(var D=0;D<P.length;D++){S.push(new s({text:x[P[D]]}))}f.push(new i({cells:S}))}if(b.length>0){this.byId("gridContainerDatabaseResult").addItem(new n({expandable:true,expanded:true,headerToolbar:new o({content:[new l({text:`${this.getResourceBundle().getText("result")} ${g+1}`}),new h,new p(this.createId(`overflowToolbarButtonDatabaseExport_${g}_`),{text:this.getResourceBundle().getText("exportToExcel"),icon:"sap-icon://download",tooltip:this.getResourceBundle().getText("exportToExcel"),press:function(e){var t=e.getSource().getId();var a=t.indexOf("overflowToolbarButtonDatabaseExport_")+"overflowToolbarButtonDatabaseExport_".length;var s=t.indexOf("_",a);this.getController("App").getExcelHelper().generateExcelFromTable(this.getProperty(`/database/sqlResultTables/${t.substring(a,s)}`),this.getResourceBundle()).then(function(e){this.getController("File").saveFileExcel(e);c.show(this.getResourceBundle().getText("successExcelGenerated"))}.bind(this)).catch(function(e){this.showMessage("e",e)}.bind(this))}.bind(this)})]}),content:[new r({height:"20rem",vertical:true,content:[new t({columns:b,items:f,sticky:[v.Sticky.ColumnHeaders]})]})]}));var C=this.getProperty("/database/sqlResultTables");var V=[];var _=[];for(D=0;D<b.length;D++){V.push(b[D].getHeader().getText())}for(D=0;D<f.length;D++){var T=[];for(var F=0;F<f[D].getCells().length;F++){T.push(f[D].getCells()[F].getText())}_.push(T)}C.push({columns:V,rows:_})}this.setProperty("/database/sqlResultTables",C)}}var B=this.getProperty("/appData/database/lastSQL");var w=this.findObject(B,u,"sql");if(w.index===-1){var R=this.cloneSchemaObject("/appDataSchema/database/lastSQL/0");R.name=u.substring(0,100);R.sql=u;R.timestamp=this.getCurrentTimestamp();B.push(R)}else{w.object.timestamp=this.getCurrentTimestamp()}this.sortObjectArray(B,"timestamp",true);if(B.length>20){B.splice(20,1)}this.setProperty("/appData/database/lastSQL",B);this.setProperty("/appData/database/sql",u);this.setProperty("/database/successMessage",this.getResourceBundle().getText("successSQL"))}catch(e){this.setProperty("/database/errorMessage",e.toString())}},onPressExecuteSQLBackup:function(e){this.onPressExecuteSQL(e);this.getController("File").saveFileBackup();c.show(this.getResourceBundle().getText("successBackupGenerated"))},onPressFilesDeleteAll:function(e){this.setProperty("/database/javaScriptFiles",[])},onPressImportExcelSQL:function(e){this.getController("File").openFileExcel().then(function(e){this.getController("App").getExcelHelper().generateTablesFromExcel(e.fileData).then(function(e){var t=this.getController("App").getSQLiteDBHelper().generateSQLFromTables(e);this.onPressResetSQL();this.setProperty("/database/sql",t);c.show(this.getResourceBundle().getText("successExcelSQLGenerated"))}.bind(this)).catch(function(e){this.showMessage("e",e)}.bind(this))}.bind(this)).catch(function(e){this.showMessage("e",e)}.bind(this))},onPressInfoJavaScript:function(){f.information(this.getResourceBundle().getText("infoJavaScriptTitle"),{details:this.getResourceBundle().getText("infoJavaScriptText")})},onPressInfoSBase:function(){f.information(this.getResourceBundle().getText("infoSBaseTitle"),{details:this.getResourceBundle().getText("infoSBaseText")})},onPressInfoSQL:function(){f.information(this.getResourceBundle().getText("infoSQLTitle"),{details:this.getResourceBundle().getText("infoSQLText")})},onPressLastSQL:function(e){this.setProperty("/database/sql",e.getSource().getBindingContext().getProperty("sql"))},onPressNavToFile:function(e){this.getRouter().navTo("File",{layout:this.getController("App").getUIHelper().getNextUIState(0).layout})},onPressParametersCancel:function(e){this._oParametersDialog.close()},onPressParametersEnter:function(e){var t=this.getProperty("/database/sql");var a=this.getProperty("/database/javaScript");var s=this.byId("simpleFormParameters").getContent();for(var i=0;i<s.length;i++){var r=s[i];if(r.getMetadata().getName()==="sap.m.Input"){var n=r.getId();t=t.replaceAll(`<%${n.substring(n.indexOf("sbaseParameter_")+"sbaseParameter_".length)}%>`,r.getValue());a=a.replaceAll(`<%${n.substring(n.indexOf("sbaseParameter_")+"sbaseParameter_".length)}%>`,r.getValue())}}this.setProperty("/database/sql",t);this.setProperty("/database/javaScript",a);this._oParametersDialog.close()},onPressOpenFooter:function(e){v.URLHelper.redirect("https://www.starcons.ch",true)},onPressOpenSQLiteDoc:function(e){v.URLHelper.redirect("https://www.sqlite.org/docs.html",true)},onPressResetJavaScript:function(e){this.setProperty("/database/javaScript","");this.onPressFilesDeleteAll()},onPressResetSQL:function(e){this.setProperty("/database/sql","")},onPressVariant:function(e){var t=e.getSource().getBindingContext().getProperty("sql");var a=e.getSource().getBindingContext().getProperty("javaScript");this.setProperty("/database/sql",t);this.setProperty("/database/javaScript",a);if(!t&&a){this.setProperty("/database/editor","javaScript")}else{this.setProperty("/database/editor","sql")}if(t.indexOf("<%")>-1&&t.indexOf("%>")>-1||a.indexOf("<%")>-1&&a.indexOf("%>")>-1){this._openParameters()}},onPressVariantEditClose:function(e){this._oEditVariantDialog.close()},onPressVariantEditDelete:function(e){f.confirm(this.getResourceBundle().getText("confirmDeleteVariant"),{onClose:function(e){if(f.Action.OK===e){var t=this.getProperty("/appData/database/variants");t.splice(this.findObject(t,this._oEditVariantDialog.getBindingContext().getProperty("uuid"),"uuid").index,1);this.setProperty("/appData/database/variants",t);this._oEditVariantDialog.close()}}.bind(this)})},onPressVariantSaveCancel:function(e){this._oSaveVariantDialog.close()},onPressVariantSaveOpen:function(e){if(!this._oSaveVariantDialog){this.loadFragment({name:"ch.starcons.sbase.fragment.SaveVariantDialog"}).then(function(e){this._oSaveVariantDialog=e;this._oSaveVariantDialog.addStyleClass(this.getController("App").getContentDensityClass());this.byId("inputSaveVariantNewVariant").setValue();this.byId("comboBoxSaveVariantExistingVariant").clearSelection();this._oSaveVariantDialog.open()}.bind(this))}else{this.byId("inputSaveVariantNewVariant").setValue();this.byId("comboBoxSaveVariantExistingVariant").clearSelection();this._oSaveVariantDialog.open()}},onPressVariantSave:function(e){var t=this.byId("inputSaveVariantNewVariant").getValue();var a=this.byId("comboBoxSaveVariantExistingVariant").getSelectedKey();if(t&&a){this.showMessage("e",this.getResourceBundle().getText("errorSaveVariantSelectOne"));return}if(!t&&!a){this.showMessage("e",this.getResourceBundle().getText("errorSaveVariantSelectOne"));return}var s=this.getProperty("/appData/database/variants");if(t){var i=this.cloneSchemaObject("/appDataSchema/database/variants/0");i.uuid=this.createUUID();i.name=t;if(this.getProperty("/database/editor")==="sql"){i.sql=this.getProperty("/database/sql")}else if(this.getProperty("/database/editor")==="javaScript"){i.javaScript=this.getProperty("/database/javaScript")}i.timestamp=this.getCurrentTimestamp();s.push(i)}else if(a){if(this.getProperty("/database/editor")==="sql"){s[this.findObject(s,a,"uuid").index].sql=this.getProperty("/database/sql")}else if(this.getProperty("/database/editor")==="javaScript"){s[this.findObject(s,a,"uuid").index].javaScript=this.getProperty("/database/javaScript")}s[this.findObject(s,a,"uuid").index].timestamp=this.getCurrentTimestamp()}this.setProperty("/appData/database/variants",s);this._oSaveVariantDialog.close()},_generateParametersForm:function(){var e=this.byId("simpleFormParameters");var t=this._getParametersFromCode(this.getProperty("/database/sql").concat(this.getProperty("/database/javaScript")));t=[...new Set(t)];for(var a=0;a<t.length;a++){e.addContent(new g({text:t[a]}));e.addContent(new b(this.createId(`sbaseParameter_${t[a]}`)))}},_getParametersFromCode:function(e){var t=/\<\%(\w+)\%\>/g;var a=[];var s=[];while(s=t.exec(e)){a.push(s[1])}return a},_initialize:function(){this.setProperty("/database/sql","");this.setProperty("/database/javaScript","");this.setProperty("/database/errorMessage","");this.setProperty("/database/successMessage","");this.setProperty("/database/sqlResultTables",[]);this.byId("gridContainerDatabaseResult").destroyItems()},_openParameters:function(e){if(!this._oParametersDialog){this.loadFragment({name:"ch.starcons.sbase.fragment.ParametersDialog"}).then(function(e){this._oParametersDialog=e;this._oParametersDialog.addStyleClass(this.getController("App").getContentDensityClass());this._oParametersDialog.open();this._generateParametersForm()}.bind(this))}else{this.byId("simpleFormParameters").destroyContent();this._oParametersDialog.open();this._generateParametersForm()}},_onPatternMatched:function(e){if(this.navToFile()){return}this._initialize();if(this._bCurrentDatabaseFilename!==this.getProperty("/file/filename")){var t=this.getProperty("/appData/database/variants");for(var a=0;a<this._aConstantDefaultVariants.length;a++){if(this.findObject(t,this._aConstantDefaultVariants[a].uuid,"uuid").index===-1){var s=this.cloneSchemaObject("/appDataSchema/database/variants/0");s.uuid=this._aConstantDefaultVariants[a].uuid;s.name=this.getResourceBundle().getText(this._aConstantDefaultVariants[a].i18nAlias);s.sql=this._aConstantDefaultVariants[a].sql;s.javaScript="";s.default=true;s.timestamp="99991231235959";t.push(s)}}this.setProperty("/appData/database/variants",t)}this._bCurrentDatabaseFilename=this.getProperty("/file/filename");this.setProperty("/database/sql",this.getProperty("/appData/database/sql"));this.setProperty("/database/javaScript",this.getProperty("/appData/database/javaScript"))}})});
},
	"ch/starcons/sbase/controller/Error.controller.js":function(){
sap.ui.define(["ch/starcons/sbase/controller/BaseController"],o=>{"use strict";return o.extend("ch.starcons.sbase.controller.Error",{onInit:function(){},onPressNavToHome:function(o){this.navToHome()}})});
},
	"ch/starcons/sbase/controller/File.controller.js":function(){
sap.ui.define(["ch/starcons/sbase/controller/BaseController","sap/ui/core/util/File"],function(e,i){"use strict";return e.extend("ch.starcons.sbase.controller.File",{_sConstantFileExtension:"sbase",_bDragOverActive:false,_bDropActive:false,_oFileHandle:null,onInit:function(){this.getRouter().getRoute("File").attachPatternMatched(this._onPatternMatched,this);window.launchQueue.setConsumer(this._onConsumerLaunchFile.bind(this));this.getView().attachBrowserEvent("dragover",this._onBrowserEventDragover.bind(this));this.getView().attachBrowserEvent("drop",this._onBrowserEventDrop.bind(this))},onPressCreateFile:function(e){this._oFileHandle=null;this.getController("App").importData(null,true)},onPressNavToHome:function(e){this.navToHome()},onPressOpenFile:function(){this.setProperty("/app/busy",true);this._readOpenFile().then(function(e){this.setProperty("/app/busy",false);this._processFile(e,true,true);this.navToHome()}.bind(this)).catch(function(e){this.setProperty("/app/busy",false);this.showMessage("e",e)}.bind(this))},openFileExcel:function(){return new Promise(function(e,i){window.showOpenFilePicker({types:[{accept:{"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]}}],excludeAcceptAllOption:true}).then(function(t){var n=t[0];if(!n){i("NOFILEHANDLE")}n.requestPermission({mode:"read"}).then(function(t){if(t==="granted"){n.getFile().then(function(t){if(!t.name.endsWith("xlsx")){i("i18n>errorFileExtensionNotCorrect");return}t.arrayBuffer().then(function(i){e({filename:n.name,fileData:new Uint8Array(i)})}.bind(this)).catch(function(e){i(e.message)}.bind(this))}.bind(this)).catch(function(e){i(e.message)}.bind(this))}else{i("i18n>errorFileNoWritePermission")}}.bind(this))}.bind(this)).catch(function(e){i(e.message)}.bind(this))}.bind(this))},openFileForJavaScript:function(){return new Promise(function(e,i){window.showOpenFilePicker({types:[{accept:{"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/xml":[".xml"],"application/zip":[".zip"],"text/plain":[".txt"],"text/csv":[".csv"]}}],excludeAcceptAllOption:true}).then(function(t){var n=t[0];if(!n){i("NOFILEHANDLE")}n.requestPermission({mode:"read"}).then(function(t){if(t==="granted"){n.getFile().then(function(t){if(!t.name.endsWith("xlsx")&&!t.name.endsWith("xml")&&!t.name.endsWith("zip")&&!t.name.endsWith("txt")&&!t.name.endsWith("csv")){i("i18n>errorFileExtensionNotCorrect");return}t.arrayBuffer().then(function(i){e({filename:n.name,fileData:new Uint8Array(i)})}.bind(this)).catch(function(e){i(e.message)}.bind(this))}.bind(this)).catch(function(e){i(e.message)}.bind(this))}else{i("i18n>errorFileNoWritePermission")}}.bind(this))}.bind(this)).catch(function(e){i(e.message)}.bind(this))}.bind(this))},readFile:function(){this.setProperty("/app/busy",true);this._readFile().then(function(e){this.setProperty("/app/busy",false);this._processFile(e,true,false)}.bind(this)).catch(function(e){this.setProperty("/app/busy",false);if(e!=="NOFILEHANDLE"){this.showMessage("e",e)}}.bind(this))},saveFile:function(){this.setProperty("/app/busy",true);this._saveFile(this.getController("App").exportData()).then(function(e){this.setProperty("/app/busy",false);this._processFile(e,false,false);if(e.newFile){this.navToHome()}}.bind(this)).catch(function(e){this.setProperty("/app/busy",false);this.showMessage("e",e)}.bind(this))},saveFileBackup:function(){i.save(this.getController("App").exportData(),`${this.getProperty("/file/filename").substring(0,this.getProperty("/file/filename").lastIndexOf(`.${this._sConstantFileExtension}`))}_backup_${this.getCurrentTimestamp()}`,this._sConstantFileExtension,"application/vnd.sqlite3")},saveFileExcel:function(e){i.save(e,this.getResourceBundle().getText("excelExportTitle"),"xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},_onBrowserEventDragover:function(e){e.preventDefault();if(!this._bDragOverActive){this.byId("messageStripFileDropFileInfo").setVisible(false);this.byId("messageStripFileDropFileHere").setVisible(true);this.byId("messageStripFileDropOnlyFile").setVisible(false);setTimeout(function(){if(!this._bDropActive){this.byId("messageStripFileDropFileInfo").setVisible(true);this.byId("messageStripFileDropFileHere").setVisible(false);this.byId("messageStripFileDropOnlyFile").setVisible(false)}this._bDragOverActive=false}.bind(this),3e3);this._bDragOverActive=true}},_onBrowserEventDrop:function(e){e.preventDefault();this._bDragOverActive=false;this.setProperty("/app/busy",true);this._readDropFile(e).then(function(e){this.setProperty("/app/busy",false);this._processFile(e,true,true);this.navToHome()}.bind(this)).catch(function(e){this.setProperty("/app/busy",false);if(e){this.showMessage("e",e)}else{this._bDropActive=true;this.byId("messageStripFileDropFileInfo").setVisible(false);this.byId("messageStripFileDropFileHere").setVisible(false);this.byId("messageStripFileDropOnlyFile").setVisible(true);setTimeout(function(){this.byId("messageStripFileDropFileInfo").setVisible(true);this.byId("messageStripFileDropFileHere").setVisible(false);this.byId("messageStripFileDropOnlyFile").setVisible(false);this._bDropActive=false}.bind(this),3e3)}}.bind(this))},_onConsumerLaunchFile:function(e){if(e.files&&e.files.length===1){this._oFileHandle=e.files[0];this._readFile().then(function(e){this._processFile(e,true,true);this.navToHome()}.bind(this)).catch(function(e){this.showMessage("e",e)}.bind(this))}},_onPatternMatched:function(e){document.title=this.getResourceBundle().getText("title")},_processFile:function(e,i,t){this.setProperty("/file/filename",e.filename);if(i){this.getController("App").importData(e.fileData,t)}},_readDropFile:function(e){return new Promise(function(i,t){for(var n=0;n<e.originalEvent.dataTransfer.types.length;n++){if(e.originalEvent.dataTransfer.types[n]!=="Files"){t();return}}if(e.originalEvent.dataTransfer.files.length>1){t();return}var s=e.originalEvent.dataTransfer.items[0];s.getAsFileSystemHandle().then(function(e){if(e.kind!=="file"){t();return}this._oFileHandle=e;this._readFile().then(function(e){i(e)}.bind(this)).catch(function(e){t(e)}.bind(this))}.bind(this))}.bind(this))},_readFile:function(){return new Promise(function(e,i){if(!this._oFileHandle){i("NOFILEHANDLE")}this._oFileHandle.requestPermission({mode:"readwrite"}).then(function(t){if(t==="granted"){this._oFileHandle.getFile().then(function(t){if(!t.name.endsWith(`.${this._sConstantFileExtension}`)){i("i18n>errorFileExtensionNotCorrect");return}t.arrayBuffer().then(function(i){e({filename:this._oFileHandle.name,fileData:new Uint8Array(i),newFile:false})}.bind(this)).catch(function(e){i(e.message)}.bind(this))}.bind(this)).catch(function(e){i(e.message)}.bind(this))}else{i("i18n>errorFileNoWritePermission")}}.bind(this))}.bind(this))},_readOpenFile:function(){return new Promise(function(e,i){this.setProperty("/app/busy",true);window.showOpenFilePicker({types:[{accept:{"application/vnd.sqlite3":[`.${this._sConstantFileExtension}`]}}],excludeAcceptAllOption:true}).then(function(t){this._oFileHandle=t[0];this._readFile().then(function(i){e(i)}.bind(this)).catch(function(e){i(e)}.bind(this))}.bind(this)).catch(function(e){i(e.message)}.bind(this))}.bind(this))},_saveFile:function(e){return new Promise(function(i,t){if(!this._oFileHandle){window.showSaveFilePicker({types:[{accept:{"application/vnd.sqlite3":[`.${this._sConstantFileExtension}`]}}],excludeAcceptAllOption:true}).then(function(n){this._oFileHandle=n;this._oFileHandle.createWritable().then(function(n){n.write(e).then(function(){n.close().then(function(){i({filename:this._oFileHandle.name,fileData:e,newFile:true})}.bind(this)).catch(function(e){t(e.message)}.bind(this))}.bind(this)).catch(function(e){t(e.message)}.bind(this))}.bind(this)).catch(function(e){t(e.message)}.bind(this))}.bind(this)).catch(function(e){t(e.message)}.bind(this))}else{this._oFileHandle.createWritable().then(function(n){n.write(e).then(function(){n.close().then(function(){i({filename:this._oFileHandle.name,fileData:e,newFile:false})}.bind(this)).catch(function(e){t(e.message)}.bind(this))}.bind(this)).catch(function(e){t(e.message)}.bind(this))}.bind(this)).catch(function(e){t(e.message)}.bind(this))}}.bind(this))}})});
},
	"ch/starcons/sbase/controller/Start.controller.js":function(){
sap.ui.define(["ch/starcons/sbase/controller/BaseController"],t=>{"use strict";return t.extend("ch.starcons.sbase.controller.Start",{onInit:function(){this.getRouter().getRoute("Start").attachPatternMatched(this._onPatternMatched,this)},_onPatternMatched:function(t){if(this.navToFile()){return}this.navToHome()}})});
},
	"ch/starcons/sbase/fragment/EditVariantDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:form="sap.ui.layout.form"><Dialog id="dialogEditVariant" title="{i18n>editVariant}" contentWidth="50rem" stretch="{device>/system/phone}"><beginButton><Button id="buttonEditVariantDelete" text="{i18n>delete}" icon="sap-icon://delete" press="onPressVariantEditDelete" type="Negative"/></beginButton><endButton><Button id="buttonEditVariantClose" text="{i18n>close}" press="onPressVariantEditClose"/></endButton><content><form:SimpleForm id="simpleFormEditVariant" layout="ResponsiveGridLayout" editable="true" labelSpanM="4"><Label id="labelEditVariantName" text="{i18n>variant}" labelFor="inputEditVariantName"/><Input id="inputEditVariantName" value="{name}"/></form:SimpleForm></content></Dialog></core:FragmentDefinition>',
	"ch/starcons/sbase/fragment/FilesResponsivePopover.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:form="sap.ui.layout.form"><ResponsivePopover id="responsivePopover" title="{i18n>importedfiles}" placement="VerticalPreferredBottom"><content><List id="listFiles" items="{path: \'/database/javaScriptFiles\', sorter: [{ path: \'timestamp\', descending: true}]}"><headerToolbar><OverflowToolbar id="overflowToolbarFiles"><ToolbarSpacer id="toolbarSpacerFiles"/><Button id="buttonFilesDeleteAll" icon="sap-icon://delete" press="onPressFilesDeleteAll" tooltip="{i18n>deleteAll}" type="Negative" enabled="{= ${/database/javaScriptFiles}.length>0 ? true : false}"/></OverflowToolbar></headerToolbar><items><StandardListItem id="standardListItemFiles" title="{filename}" info="{index}"/></items></List></content></ResponsivePopover></core:FragmentDefinition>',
	"ch/starcons/sbase/fragment/ParametersDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:form="sap.ui.layout.form"><Dialog id="dialogParameters" title="{i18n>parameters}" contentWidth="50rem" stretch="{device>/system/phone}"><beginButton><Button id="buttonParametersEnter" text="{i18n>enter}" press="onPressParametersEnter" type="Emphasized"/></beginButton><endButton><Button id="buttonParametersCancel" text="{i18n>cancel}" press="onPressParametersCancel"/></endButton><content><form:SimpleForm id="simpleFormParameters" layout="ResponsiveGridLayout" editable="true" labelSpanM="4"/></content></Dialog></core:FragmentDefinition>',
	"ch/starcons/sbase/fragment/SaveVariantDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:form="sap.ui.layout.form"><Dialog id="dialogSaveVariant" title="{i18n>saveVariant}" contentWidth="50rem" stretch="{device>/system/phone}"><beginButton><Button id="buttonSaveVariantSave" text="{i18n>save}" press="onPressVariantSave" type="Emphasized"/></beginButton><endButton><Button id="buttonSaveVariantCancel" text="{i18n>cancel}" press="onPressVariantSaveCancel"/></endButton><content><form:SimpleForm id="simpleFormSaveVariant" layout="ResponsiveGridLayout" editable="true" labelSpanM="4"><Label id="labelSaveVariantNewVariant" text="{i18n>newVariant}" labelFor="inputSaveVariantNewVariant"/><Input id="inputSaveVariantNewVariant"/><Label id="labelSaveVariantExistingVariant" text="{i18n>existingVariant}" labelFor="inputSaveVariantExistingVariant"/><ComboBox id="comboBoxSaveVariantExistingVariant" items="{path:\'/appData/database/variants\', filters: [{path: \'default\', operator: \'EQ\', value1: false}, {path: \'default\', operator: \'EQ\', value1: false}]}"><core:Item id="itemSaveVariantExistingVariant" key="{uuid}" text="{name}"/></ComboBox></form:SimpleForm></content></Dialog></core:FragmentDefinition>',
	"ch/starcons/sbase/i18n/i18n.properties":'allMasterTypes=Master Tabelle anzeigen\nallTables=Alle Tabellen anzeigen\nappDescription=Starcons sBase\nappTitle=Starcons sBase\nbackToHome=Zur\\u00fcck zur Hauptseite\ncancel=Abbrechen\nclose=Schliessen\ncloseAndRefresh=Schliessen und aktuelle Datei neu laden\nconfirmDeleteVariant=Wollen Sie diese Variante wirklich l\\u00f6schen?\noutput=Ausgabe\ncreateFile=Neue Datenbank erstellen\ncurrentFilename=Aktuelle Datenbank: \ndatabase=Datenbank\ndate=Datum\ndefault=Standard\ndelete=L\\u00f6schen\neditor=Editor\neditVariant=Variante \\u00e4ndern\nenter=\\u00dcbernehmen\nerror=Fehler\nerrorFileDropOnlyFile=Es kann nur eine einzelne Datei ge\\u00f6ffnet werden!\nerrorFileExtensionNotCorrect=Der Dateityp ist nicht korrekt!\nerrorJavaScriptFileExists=Die Datei wurde bereits importiert!\nerrorFileNoWritePermission=Datei hat keine Schreibberechtigung! Starten Sie die Anwendung neu.\nerrorOccured=Es ist ein Fehler aufgetreten!\nerrorSaveVariantSelectOne=Geben Sie entweder eine neue oder eine existierende Variante an!\nexcelExportTitle=Starcons sBase Export\nexecuteJavaScript=JavaScript ausf\\u00fchren\nexecuteJavaScriptBackup=JavaScript ausf\\u00fchren (+Backup)\nexecuteSQL=SQL ausf\\u00fchren\nexecuteSQLBackup=SQL ausf\\u00fchren (+Backup)\nexistingVariant=Existierende Variante \\u00fcberschreiben\nexport=Export\nexportToExcel=In Excel exportieren\ndeleteAll=Alle l\\u00f6schen\nimportedfiles=Importierte Dateien\nimportExcel=Aus Excel importieren\nimportFile=Datei importieren\ninfoFileDropFileInfo=W\\u00e4hlen Sie eine Datei aus oder ziehen Sie die Datei einfach in dieses Browser Fenster.\\nUm eine neue Datei zu erstellen klicken Sie auf \'Neue Datenbank erstellen\'.\ninfoJavaScript=JavaScript Informationen\ninfoJavaScriptText=<u>sBase-Funktionen:</u><br><br><strong>sbaseDBExec(SQL)</strong> > SQL ausf\\u00fchren; Return-Wert = Array von Ergebnissen, jedes Ergebnis ist ein Array mit den einzelnen Zeilen [{column: \'value\'}]<br>Beispiel: Lesen 1. Ergebnis, 1.Zeile, Spalte \'Test\' > aResult[0][0].Test<br><br><strong>sbaseOutput(output)</strong> > Text ausgeben; Return-Wert = keiner<br><br><strong>sbaseGetFile(index)</strong> > Importierte Datei lesen, <code>index</code> beginnend mit 1; Return-Wert = {filename: \'\', fileData: null}<br><br><strong>sbaseUnzip(zipUint8Array, fileRegex, fnHandler)</strong> > Unzippen, mit <code>fileRegex</code> k\\u00f6nnen die Dateien selektiert werden; Wert in Handler = Array von Files<br><br><strong>sbaseParseXML(xmlUint8Array, isArray)</strong> > XML parsen zu JS Objekt; Return-Wert: JS Objekt<br><br><strong>sbaseParseExcel(excelUint8Array, fnHandler)</strong> > Excel parsen zu Array; Wert in Handler: Array [{table: \'\', rows: [{column: value, ...}]}]<br><br><br><u>Parameter:</u><br><br>Im Editor k\\u00f6nnen Parameter mit <%...%> angegeben werden.\ninfoJavaScriptTitle=JavaScript Informationen k\\u00f6nnen bei \'Details anzeigen\' aufgerufen werden.\ninfoSBase=sBase Informationen\ninfoSBaseText=<u>Haupt-Funktionen:</u><ul><li>SQL ausf\\u00fchren</li><li>JavaScript ausf\\u00fchren</li></ul><br><u>Weitere Funktionen:</u><ul><li>Datei importieren (Excel, XML, ZIP, CSV, TXT)</li><li>Datei exportieren (Excel)</li><li>SQL & JavaScript als Variante sichern</li><li>In SQL & JavaScript Parameter verwenden</li></ul>\ninfoSBaseTitle=Informationen zu sBase k\\u00f6nnen bei \'Details anzeigen\' aufgerufen werden.\ninfoSQL=SQL Informationen\ninfoSQLText=<u>Parameter:</u><br><br>Im Editor k\\u00f6nnen Parameter mit <%...%> angegeben werden.\ninfoSQLTitle=SQL Informationen k\\u00f6nnen bei \'Details anzeigen\' aufgerufen werden.\ninfoText=\\u00a9 2024 Starcons GmbH. Alle Rechte vorbehalten\njavaScript=JavaScript\nlastSQL=Letzte SQL\nnewVariant=Neue Variante\nopenFile=Datenbank \\u00f6ffnen\nopenOrCreateFile=Datenbank \\u00f6ffnen oder erstellen\nopenSQliteDoc=SQLite Dokumentation \\u00f6ffnen\nparameters=Parameter\nresetJavaScript=JavaScript l\\u00f6schen\nresetSQL=SQL l\\u00f6schen\nresult=Ergebnis\nsave=Sichern\nsaveVariant=Variante sichern\nsql=SQL\nsuccessBackupGenerated=Backup erfolgreich generiert\nsuccessExcelGenerated=Excel erfolgreich generiert\nsuccessExcelSQLGenerated=Excel erfolgreich importiert und SQL wurde erstellt.\nsuccessFileDropFileHere=Legen Sie die Datei zum \\u00d6ffnen hier ab.\nsuccessJavaScript=JavaScript erfolgreich ausgef\\u00fchrt\nsuccessSQL=SQL erfolgreich ausgef\\u00fchrt\ntitle=Starcons sBase\nvariant=Variante\nvariants=Varianten',
	"ch/starcons/sbase/js/ExcelHelper.js":function(){
sap.ui.define(["sap/ui/base/Object"],function(e){"use strict";return e.extend("ch.starcons.sbase.js.ExcelHelper",{_aLetters:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],generateTablesFromExcel:function(e){return new Promise(function(t,n){var r=new ExcelJS.Workbook;r.xlsx.load(e).then(function(){var e=[];r.eachSheet(function(t){var n=[];var r=[];t.eachRow(function(o,a){if(a===1){for(var i=0;i<o.cellCount;i++){n.push(o.values[i+1])}}else if(a>1){var s={};for(var i=0;i<o.cellCount;i++){s[n[i]]=o.values[i+1]}r.push(s)}if(a===t.rowCount){e.push({table:t.name,rows:r})}})});t(e)}.bind(this)).catch(function(e){n(e)}.bind(this))}.bind(this))},generateExcelFromTable:function(e,t){return new Promise(function(n,r){var o=[];for(var a=0;a<e.columns.length;a++){o.push({header:e.columns[a],key:e.columns[a]})}var i=new ExcelJS.Workbook;i.creator=t.getText("excelExportTitle");i.lastModifiedBy=i.creator;i.created=new Date;i.modified=i.created;i.title=i.creator;var s=i.addWorksheet(i.title,{views:[{state:"frozen",ySplit:1}]});s.properties.defaultColWidth=20;s.columns=o;var c=s.columns.length;var l="";if(s.columns.length>26){l=this._aLetters[parseInt(c/26)-1];c=c-26}s.autoFilter={from:"A1",to:`${l+this._aLetters[c-1]}1`};for(a=0;a<e.rows.length;a++){s.addRow(e.rows[a])}s.getRow(1).font={bold:true};s.getRow(1).alignment={horizontal:"center"};i.xlsx.writeBuffer().then(function(e){n(e)}.bind(this)).catch(function(e){r(e)}.bind(this))}.bind(this))}})});
},
	"ch/starcons/sbase/js/JavaScriptHelper.js":function(){
sap.ui.define(["sap/ui/base/Object"],BaseObject=>{"use strict";return BaseObject.extend("ch.starcons.sbase.js.JavaScriptHelper",{_aOutput:[],_oAppController:null,constructor:function(e){this._oAppController=e},runJavaScript:function(sJavaScript){this._aOutput=[];sJavaScript=sJavaScript.replaceAll("sbaseDBExec","this.sbaseDBExec");sJavaScript=sJavaScript.replaceAll("sbaseGetFile","this.sbaseGetFile");sJavaScript=sJavaScript.replaceAll("sbaseOutput","this.sbaseOutput");sJavaScript=sJavaScript.replaceAll("sbaseParseXML","this.sbaseParseXML");sJavaScript=sJavaScript.replaceAll("sbaseParseExcel","this.sbaseParseExcel");sJavaScript=sJavaScript.replaceAll("sbaseUnzip","this.sbaseUnzip");eval(sJavaScript);return this._aOutput},sbaseDBExec:function(e){return this._oAppController.getSQLiteDBHelper().executeSQL(e)},sbaseGetFile:function(e){return this._oAppController.getProperty("/database/javaScriptFiles")[e]},sbaseOutput:function(e){this._aOutput.push(e)},sbaseParseXML:function(e,t){var s=new XMLParser({isArray:function(e,s,a,r){for(var i=0;i<t.length;i++){if(s===t[i]){return true}}}});return s.parse(e)},sbaseParseExcel:function(e,t){this._oAppController.getExcelHelper().generateTablesFromExcel(e).then(function(e){t(e)}.bind(this)).catch(function(e){throw e}.bind(this))},sbaseUnzip:function(e,t,s){var a=new JSZip;a.loadAsync(e).then(function(e){s(e.file(t))}.bind(this))}})});
},
	"ch/starcons/sbase/js/SQLiteDBHelper.js":function(){
sap.ui.define(["sap/ui/base/Object"],t=>{"use strict";return t.extend("ch.starcons.sbase.js.SQLiteDBHelper",{_sConstantSqlitePrefix:"sqlite",_sConstantTableData:"sbase_data",_sConstantKeyAppData:"app",_oAppController:null,_oDB:null,_oSQL:null,constructor:function(t){this._oAppController=t;var e=window.initSqlJs;e({locateFile:t=>"https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.12.0/sql-wasm.wasm"}).then(function(t){this._oSQL=t}.bind(this))},createDB:function(t){this._oDB=new this._oSQL.Database(t);var e="PRAGMA foreign_keys = ON;";if(!t){e=`${e} CREATE TABLE ${this._sConstantTableData} (key TEXT PRIMARY KEY,`+"value TEXT);";e=`${e} INSERT INTO ${this._sConstantTableData} (key, value) VALUES ('${this._sConstantKeyAppData}','');`}this._run(e)},executeSQL:function(t){return this._exec(t,true)},exportDB:function(){var t=this._oDB.export();this._oDB.close();this.createDB(t);return t},generateSQLFromTables:function(t){var e="";for(var a=0;a<t.length;a++){if(a>0){e=`${e}\n\n`}for(var n=0;n<t[a].rows.length;n++){if(n==0){e=`${e}DELETE FROM ${t[a].table};\n`}else{e=`${e}\n`}e=`${e}INSERT INTO ${t[a].table} (${Object.keys(t[a].rows[n]).toString()}) VALUES('${Object.values(t[a].rows[n]).join("','")}');`}}return e},readAppData:function(){var t=`SELECT value FROM ${this._sConstantTableData} WHERE key = '${this._sConstantKeyAppData}';`;var e=this._exec(t);if(e.length>0){return e[0].value}else{return null}},updateAppData:function(t){var e=`UPDATE ${this._sConstantTableData} SET value = '${t}' WHERE key = '${this._sConstantKeyAppData}';`;this._run(e)},_exec:function(t,e){var a=[];var n=this._oDB.exec(t);if(n.length===0){return a}for(var s=0;s<n.length;s++){var r=[];var o=n[s];for(var l=0;l<o.values.length;l++){var i=o.values[l];var u={};for(var h=0;h<o.columns.length;h++){var c=o.columns[h];u[c]=i[h];if(u[c]==="null"){u[c]=null}}r.push(u)}a.push(r)}if(e){return a}else{return a[0]}},_run:function(t){this._oDB.run(t)}})});
},
	"ch/starcons/sbase/manifest.json":'{"_version":"1.65.0","sap.app":{"id":"ch.starcons.sbase","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.15.5","toolsId":"edcde286-ca6b-4938-84ba-325a4fbe3663"}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.130.0","libs":{"sap.m":{},"sap.ui.core":{},"sap.f":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"ch.starcons.sbase.i18n.i18n"}},"":{"type":"sap.ui.model.json.JSONModel"}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.f.routing.Router","controlAggregation":"beginColumnPages","controlId":"flexibleColumnLayout","type":"View","viewType":"XML","path":"ch.starcons.sbase.view","async":true,"viewPath":"ch.starcons.sbase.view","bypassed":{"target":["error"]}},"routes":[{"name":"Start","pattern":"","target":["start"]},{"name":"File","pattern":"file/layout/{layout}","target":["file"]},{"name":"Database","pattern":"database/layout/{layout}","target":["database"]}],"targets":{"start":{"viewType":"XML","viewId":"viewStart","viewName":"Start","transition":"show"},"file":{"viewType":"XML","viewId":"viewFile","viewName":"File","transition":"show"},"database":{"viewType":"XML","viewId":"viewDatabase","viewName":"Database","transition":"show"},"error":{"viewType":"XML","viewId":"viewError","viewName":"Error","transition":"show"}}},"rootView":{"viewName":"ch.starcons.sbase.view.App","type":"XML","id":"viewApp"}}}',
	"ch/starcons/sbase/model/models.js":function(){
sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"ch/starcons/sbase/sw.js":function(){
self.addEventListener("fetch",function(e){});
},
	"ch/starcons/sbase/view/App.view.xml":'<mvc:View controllerName="ch.starcons.sbase.controller.App" xmlns:mvc="sap.ui.core.mvc" displayBlock="true" xmlns="sap.m" xmlns:f="sap.f"><Shell id="shellApp" appWidthLimited="false" busy="{/app/busy}"><App id="app"><pages><f:FlexibleColumnLayout id="flexibleColumnLayout" layout="{/app/uistate/layout}" stateChange="onStateChanged" restoreFocusOnBackNavigation="true"/></pages></App></Shell></mvc:View>',
	"ch/starcons/sbase/view/Database.view.xml":'<mvc:View controllerName="ch.starcons.sbase.controller.Database" xmlns:mvc="sap.ui.core.mvc" displayBlock="true" xmlns="sap.m" xmlns:f="sap.f" xmlns:semantic="sap.f.semantic" xmlns:codeeditor="sap.ui.codeeditor"><semantic:SemanticPage id="semanticPageDatabase" showFooter="true"><semantic:titleHeading><Title id="titleDatabase" text="{i18n>title}"/></semantic:titleHeading><semantic:titleExpandedContent><Title id="titleDatabaseSubtitle2" text="{i18n>database}"/></semantic:titleExpandedContent><semantic:titleCustomTextActions><Button id="buttonDatabaseInfoSBase" icon="sap-icon://information" press="onPressInfoSBase" tooltip="{i18n>infoSBase}"/><Button id="buttonDatabaseOpenSQLiteDoc" icon="sap-icon://learning-assistant" press="onPressOpenSQLiteDoc" tooltip="{i18n>openSQliteDoc}"/><Button id="buttonDatabaseNavToFile" text="{/file/filename}" press="onPressNavToFile" tooltip="{i18n>openOrCreateFile}"/></semantic:titleCustomTextActions><semantic:content><VBox id="vBoxDatabase"><Panel id="panelDatabaseTop" headerText="{i18n>editor}" expandable="true" expanded="true"><HBox id="hBoxDatabase"><VBox id="vBoxDatabase2" width="60%"><IconTabBar id="iconTabBarDatabase" selectedKey="{/database/editor}" backgroundDesign="Transparent" headerMode="Inline" expandable="false"><items><IconTabFilter id="iconTabFilterDatabaseSQL" text="{i18n>sql}" key="sql" icon="{= ${/database/sql} ? \'sap-icon://circle-task-2\' : \'sap-icon://circle-task\'}"><codeeditor:CodeEditor id="codeEditorDatabaseSQL" value="{/database/sql}" type="sqlserver" height="20rem" maxLines="25"/><HBox id="hBoxDatabase2"><Toolbar id="toolbarDatabaseSQL" style="Clear"><Button id="buttonDatabaseExecuteSQL" text="{i18n>executeSQL}" press="onPressExecuteSQL" type="Emphasized"/><Button id="buttonDatabaseExecuteSQLBackup" text="{i18n>executeSQLBackup}" press="onPressExecuteSQLBackup" class="sapUiTinyMarginBegin" type="Emphasized"/><MenuButton id="menuButtonDatabaseLastSQL" text="{i18n>lastSQL}" class="sapUiTinyMarginBegin" type="Ghost"><menu><Menu id="menuDatabaseLastSQL" items="{/appData/database/lastSQL}"><MenuItem id="menuItemDatabaseLastSQL" text="{name}" press="onPressLastSQL"/></Menu></menu></MenuButton><Button id="buttonDatabaseResetSQL" text="{i18n>resetSQL}" press="onPressResetSQL" class="sapUiTinyMarginBegin" type="Ghost"/><ToolbarSeparator id="toolbarSeperatorDatabaseSQL"/><Button id="buttonDatabaseSaveVariantSQL" icon="sap-icon://save" tooltip="{i18n>saveVariant}" press="onPressVariantSaveOpen" class="sapUiTinyMarginBegin" type="Ghost"/><Button id="buttonDatabaseSQLImportExcel" icon="sap-icon://upload" tooltip="{i18n>importExcel}" press="onPressImportExcelSQL" class="sapUiTinyMarginBegin" type="Ghost"/><Button id="buttonDatabaseInfoSQL" icon="sap-icon://information" tooltip="{i18n>infoSQL}" press="onPressInfoSQL" class="sapUiTinyMarginBegin" type="Ghost"/></Toolbar></HBox></IconTabFilter><IconTabFilter id="iconTabFilterDatabaseJavaScript" text="{i18n>javaScript}" key="javaScript" icon="{= ${/database/javaScript} ? \'sap-icon://circle-task-2\' : \'sap-icon://circle-task\'}"><codeeditor:CodeEditor id="codeEditorDatabaseJavaScript" value="{/database/javaScript}" type="javaScript" height="20rem" maxLines="25"/><HBox id="hBoxDatabase3"><Toolbar id="toolbarDatabaseJavaScript" style="Clear"><Button id="buttonDatabaseExecuteJavaScript" text="{i18n>executeJavaScript}" press="onPressExecuteJavaScript" type="Emphasized"/><Button id="buttonDatabaseExecuteJavaScriptBackup" text="{i18n>executeJavaScriptBackup}" press="onPressExecuteJavaScriptBackup" class="sapUiTinyMarginBegin" type="Emphasized"/><Button id="buttonDatabaseResetJavaScript" text="{i18n>resetJavaScript}" press="onPressResetJavaScript" class="sapUiTinyMarginBegin" type="Ghost"/><ToolbarSeparator id="toolbarSeperatorDatabaseJavaScript"/><Button id="buttonDatabaseSaveVariantJavaScript" icon="sap-icon://save" tooltip="{i18n>saveVariant}" press="onPressVariantSaveOpen" class="sapUiTinyMarginBegin" type="Ghost"/><MenuButton id="menuButtonDatabaseJavaScriptImportFile" text="{= ${/database/javaScriptFiles}.length>0 ? ${/database/javaScriptFiles}.length : \'\'}" icon="sap-icon://upload" buttonMode="Split" tooltip="{i18n>importFile}" defaultAction="onDefaultActionImportFileJavaScript" beforeMenuOpen="onBeforeMenuOpenImportFileJavaScript" class="sapUiTinyMarginBegin" type="{= ${/database/javaScriptFiles}.length>0 ? \'Accept\' : \'Ghost\' }"/><Button id="buttonDatabaseInfoJavaScript" icon="sap-icon://information" tooltip="{i18n>infoJavaScript}" press="onPressInfoJavaScript" class="sapUiTinyMarginBegin" type="Ghost"/></Toolbar></HBox></IconTabFilter></items></IconTabBar></VBox><VBox id="vBoxDatabase3" width="40%" class="sapUiTinyMarginBegin"><ScrollContainer id="scrollContainerDatabaseVariants" vertical="true" height="27rem"><List id="listVariants" items="{path: \'/appData/database/variants\', sorter: [{ path: \'default\', descending: true}, { path: \'name\'}]}" sticky="HeaderToolbar" class="sapUiSmallMarginBegin" width="95%"><headerToolbar><OverflowToolbar id="overflowToolbarDatabase"><Title id="titleDatabaseVariants" text="{i18n>variants}"/><ToolbarSpacer id="toolbarSpacerDatabaseVariants"/><SearchField id="searchFieldDatabaseVariants" width="20rem" liveChange="onLiveChangeVariant" showSearchButton="false"/></OverflowToolbar></headerToolbar><items><StandardListItem id="standardListItemDatabase" title="{name}" info="{= ${sql} ? ${javaScript} ? ${i18n>sql}.concat(\',\').concat(${i18n>javaScript}) : ${i18n>sql} : ${javaScript} ? ${i18n>javaScript} : \'\'}" infoState="Information" press="onPressVariant" detailPress="onDetailPressVariant" type="{= ${default} ? \'Active\' : \'DetailAndActive\'}"/></items></List></ScrollContainer></VBox></HBox></Panel><Panel id="panelDatabaseOutput" headerText="{i18n>output}" class="sapUiSmallMarginTop"><VBox id="vBoxDatabase4"><MessageStrip id="messageStripDatabaseErrorMessage" type="Error" text="{/database/errorMessage}" visible="{= ${/database/errorMessage}===\'\' ? false : true}"/><MessageStrip id="messageStripDatabaseSuccessMessage" type="Success" text="{/database/successMessage}" visible="{= ${/database/successMessage}===\'\' ? false : true}"/><f:GridContainer id="gridContainerDatabaseResult" width="100%" class="sapUiTinyMarginTop" visible="false"><f:layout><f:GridContainerSettings id="gridContainerSettingsDatabaseResult" columns="1" columnSize="100%" gap="0" rowSize="1rem"/></f:layout></f:GridContainer><TextArea id="textAreaDatabaseOutput" width="100%" class="sapUiTinyMarginTop" visible="false" growing="true" editable="false"/></VBox></Panel></VBox></semantic:content><semantic:footerCustomActions><Button id="buttonFooterText" text="{i18n>infoText}" press="onPressOpenFooter"/></semantic:footerCustomActions></semantic:SemanticPage></mvc:View> ',
	"ch/starcons/sbase/view/Error.view.xml":'<mvc:View controllerName="ch.starcons.sbase.controller.Error" xmlns:mvc="sap.ui.core.mvc" displayBlock="true" xmlns="sap.m"><IllustratedMessage id="illustratedMessageError" title="{i18n>error}" description="{i18n>errorOccured}" illustrationType="sapIllus-ErrorScreen" enableVerticalResponsiveness="true"><additionalContent><Button id="buttonErrorNavToHome" text="{i18n>backToHome}" press="onPressNavToHome" type="Emphasized"/></additionalContent></IllustratedMessage></mvc:View>',
	"ch/starcons/sbase/view/File.view.xml":'<mvc:View controllerName="ch.starcons.sbase.controller.File" xmlns:mvc="sap.ui.core.mvc" displayBlock="true" xmlns="sap.m" xmlns:semantic="sap.f.semantic"><semantic:SemanticPage id="semanticPageFile"><semantic:titleHeading><Title id="titleFile" text="{i18n>title}"/></semantic:titleHeading><semantic:titleExpandedContent><Title id="titleFileSubtitle2" text="{i18n>openOrCreateFile}"/></semantic:titleExpandedContent><semantic:closeAction><semantic:CloseAction id="closeActionFile" press="onPressNavToHome" visible="{= ${/file/filename}===\'\' ? false : true}" tooltip="{i18n>closeAndRefresh}"/></semantic:closeAction><semantic:content><VBox id="vBoxFile" height="80%"><VBox id="vBoxFile2" visible="{= !${device>/system/phone}}"><MessageStrip id="messageStripFileDropFileInfo" text="{i18n>infoFileDropFileInfo}" type="Information" visible="true"/><MessageStrip id="messageStripFileDropOnlyFile" text="{i18n>errorFileDropOnlyFile}" type="Error" visible="false"/><MessageStrip id="messageStripFileDropFileHere" text="{i18n>successFileDropFileHere}" type="Success" visible="false"/><MessageStrip id="messageStripFileFilename" text="{i18n>currentFilename} {/file/filename}" type="Warning" visible="{= ${/file/filename}===\'\' ? false : true }" class="sapUiTinyMarginTop"/></VBox><HBox id="hBoxFile" height="100%"><VBox id="vBoxFile3" alignItems="Center" justifyContent="Center" width="100%"><Button id="buttonFileOpenFile" text="{i18n>openFile}" press="onPressOpenFile" type="Emphasized" width="20rem"/><Button id="buttonFileCreateFile" text="{i18n>createFile}" press="onPressCreateFile" width="20rem" class="sapUiLargeMarginTop"/></VBox></HBox></VBox></semantic:content></semantic:SemanticPage></mvc:View>',
	"ch/starcons/sbase/view/Start.view.xml":'<mvc:View controllerName="ch.starcons.sbase.controller.Start" xmlns:mvc="sap.ui.core.mvc" displayBlock="true" xmlns="sap.m" xmlns:semantic="sap.f.semantic"><semantic:SemanticPage id="semanticPageStart"/></mvc:View>\n'
});
//# sourceMappingURL=Component-preload.js.map
